var initialCats=[{name:"Cratty",image:"img/cat1.jpg",counter:0},{name:"Pitty",image:"img/cat2.jpg",counter:0},{name:"Gritty",image:"img/cat3.jpg",counter:0},{name:"Shmitty",image:"img/cat4.jpg",counter:0},{name:"Brunty",image:"img/cat5.jpg",counter:0},{name:"Tritty",image:"img/cat6.jpg",counter:0}],Cat=function(t){this.name=ko.observable(t.name),this.counter=ko.observable(t.counter),this.image=ko.observable(t.image)},ViewModel=function(){var t=this;t.catList=ko.observableArray([]),initialCats.forEach(function(e){t.catList.push(new Cat(e))}),t.currentCat=ko.observable(t.catList()[0]),t.incrementCount=function(){t.currentCat().counter(t.currentCat().counter()+1)},t.changeCat=function(e){t.currentCat(e)}};ko.applyBindings(new ViewModel);var model={current:0,data:[{name:"Cratty",image:"img/cat1.jpg",counter:0},{name:"Pitty",image:"img/cat2.jpg",counter:0},{name:"Gritty",image:"img/cat3.jpg",counter:0},{name:"Shmitty",image:"img/cat4.jpg",counter:0},{name:"Brunty",image:"img/cat5.jpg",counter:0},{name:"Tritty",image:"img/cat6.jpg",counter:0}]},view={init:function(){this.catListPointer=document.getElementById("catlist"),this.adminAreaPointer=document.getElementById("cat-edit"),this.renderCatList(),this.initializeAdminMode()},renderCatList:function(){for(var t=octopus.getAllCats(),e=t.length-1;e>=0;e--){var n=document.createElement("li");n.innerHTML="<h3>"+t[e].name+"</h3>",n.addEventListener("click",view.renderCat(e)),this.catListPointer.appendChild(n)}},renderCat:function(t){return function(){octopus.setCurrentCat(t);var e=octopus.getCurrentCat(),n="<h2>"+e.name+"</h2>",i='<h3> Times clicked: <span id="counter">'+e.counter+"</span></h3>",a='<img id="image" src="'+e.image+'" alt="Cat picture">';document.getElementById("cat").innerHTML=n+i+a;var r=document.getElementById("image"),c=document.getElementById("counter"),u=function(){octopus.incrementCount(e),c.innerHTML=e.counter};r.addEventListener("click",u,!1)}},renderAdminView:function(){var t=octopus.getCurrentCat(),e='<span>Cat Name: </span><input id="nameInput" type="text" value="'+t.name+'"><br/>',n='<span>Clicks Counter: </span><input id="clicksInput" type="text" value="'+t.counter+'"><br/>',i='<span>Image URL: </span><input id="imageInput" type="text" value="'+t.image+'"><br/>',a='<button id="cancelButton">Cancel</button>',r='<button id="saveButton">Save</button>';view.adminAreaPointer.innerHTML=e+n+i+a+r;var c=document.getElementById("cancelButton"),u=document.getElementById("saveButton");c.addEventListener("click",function(){view.hideAdminView()}),u.addEventListener("click",function(){octopus.updateCatData(document.getElementById("nameInput").value,document.getElementById("clicksInput").value,document.getElementById("imageInput").value),octopus.refreshCurrentCat(),view.hideAdminView()})},hideAdminView:function(){view.adminAreaPointer.innerHTML=""},initializeAdminMode:function(){var t=document.getElementById("admin");t.addEventListener("click",this.renderAdminView)}},octopus={init:function(){view.init()},getAllCats:function(){return model.data},getCurrentCat:function(){return model.data[model.current]},refreshCurrentCat:function(){view.renderCat(model.current)()},setCurrentCat:function(t){model.current=t},incrementCount:function(t){t.counter++},updateCatData:function(t,e,n){var i=octopus.getCurrentCat();i.name=t,i.counter=e,i.image=n}};