window.onload=function(){var t={current:0,data:[{name:"Cratty",image:"img/cat1.jpg",counter:0},{name:"Pitty",image:"img/cat2.jpg",counter:0},{name:"Gritty",image:"img/cat3.jpg",counter:0},{name:"Shmitty",image:"img/cat4.jpg",counter:0},{name:"Brunty",image:"img/cat5.jpg",counter:0},{name:"Tritty",image:"img/cat6.jpg",counter:0}]},e={init:function(){this.catListPointer=document.getElementById("catlist"),this.adminAreaPointer=document.getElementById("cat-edit"),this.renderCatList(),this.initializeAdminMode()},renderCatList:function(){for(var t=n.getAllCats(),i=t.length-1;i>=0;i--){var a=document.createElement("li");a.innerHTML="<h3>"+t[i].name+"</h3>",a.addEventListener("click",e.renderCat(i)),this.catListPointer.appendChild(a)}},renderCat:function(t){return function(){n.setCurrentCat(t);var e=n.getCurrentCat(),i="<h2>"+e.name+"</h2>",a='<h3> Times clicked: <span id="counter">'+e.counter+"</span></h3>",r='<img id="image" src="'+e.image+'" alt="Cat picture">';document.getElementById("cat").innerHTML=i+a+r;var u=document.getElementById("image"),c=document.getElementById("counter"),d=function(){n.incrementCount(e),c.innerHTML=e.counter};u.addEventListener("click",d,!1)}},renderAdminView:function(){var t=n.getCurrentCat(),i='<span>Cat Name: </span><input id="nameInput" type="text" value="'+t.name+'"><br/>',a='<span>Clicks Counter: </span><input id="clicksInput" type="text" value="'+t.counter+'"><br/>',r='<span>Image URL: </span><input id="imageInput" type="text" value="'+t.image+'"><br/>',u='<button id="cancelButton">Cancel</button>',c='<button id="saveButton">Save</button>';e.adminAreaPointer.innerHTML=i+a+r+u+c;var d=document.getElementById("cancelButton"),m=document.getElementById("saveButton");d.addEventListener("click",function(){e.hideAdminView()}),m.addEventListener("click",function(){n.updateCatData(document.getElementById("nameInput").value,document.getElementById("clicksInput").value,document.getElementById("imageInput").value),n.refreshCurrentCat(),e.hideAdminView()})},hideAdminView:function(){e.adminAreaPointer.innerHTML=""},initializeAdminMode:function(){var t=document.getElementById("admin");t.addEventListener("click",this.renderAdminView)}},n={init:function(){e.init()},getAllCats:function(){return t.data},getCurrentCat:function(){return t.data[t.current]},refreshCurrentCat:function(){e.renderCat(t.current)()},setCurrentCat:function(e){t.current=e},incrementCount:function(t){t.counter++},updateCatData:function(t,e,i){var a=n.getCurrentCat();a.name=t,a.counter=e,a.image=i}};n.init()};